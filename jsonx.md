# The Labriry JsonX

<meta name="description" content="The library JsonX can be used to create well formatted JSON strings. This page explains how it can be used.">

In this page:

* [Introduction](#introduction)
* [Library Structure](#library-structure)
* [Usage Example](#usage-example)
* [Adding Extra Properties](#adding-extra-properties)
* [Working With Arrays](#working-with-arrays)
* [Working With Objects](#working-with-objects)
* [Converting JSON String to JsonX](#converting-json-string-to-jsonx)

## Introduction

When desining web services, the developer must deside on the format at which the server will send back to the client after processing the request. One of the most widely used format is called [JSON](https://www.json.org/json-en.html). PHP does provide functions for encoding and decoding JSON using the methods [`json_encode()`](https://www.php.net/manual/en/function.json-encode.php). And [`json_decode()`](https://www.php.net/manual/en/function.json-decode.php). Since the framework promots the use of OOP approach, it uses a library called [`JsonX`](https://github.com/usernane/jsonx) to create well formatted JSON output.

## Library Structure

The lirary has only one class and one interface. The class [`JsonX`](https://webfiori.com/docs/jsonx/JsonX) is the core of the library. This class is the one which is used to create the final JSON output. In addition to that, it can be used to parse JSON strings and convert them to `JsonX` objects. 

The interface [`JsonI`](https://webfiori.com/docs/jsonx/JsonI) can be used to customize JSON representation of objects which implement it when encoded. The interface has only one method which is [`JsonI::toJSON()`](https://webfiori.com/docs/jsonx/JsonI#toJSON).

## Usage Examples

The following code sample shows the most basic use case. What we do here is simply adding a set of key/value pairs to be represented as JSON.

``` php
$jsonxObj = new JsonX([
    'first-name' => 'Ibrahim',
    'last-name' => 'BinAlshikh',
    'age' => 26,
    'is-married' => true,
    'mobile-number' => null
]);
```

The JSON output that will be generated by the given code will be similiar to the following JSON:

``` json
{
    "first-name":"Ibrahim",
    "last-name":"BinAlshikh",
    "age":26,
    "is-married":true,
    "mobile-number":null
}
```

In addition to initializing your data using the consructor, it is possible to add more properties using one of the methods which can be used to add extra properties.

### Adding Extra Properties

The method [`JsonX::add()`](https://webfiori.com/docs/jsonx/JsonX#add) can be used to add numbers, strings or objects to your JSON.

``` php 
$jsonxObj = new JsonX();
$jsonxObj->add('first-name', 'Ibrahim');
$jsonxObj->add('number', 45);
$jsonxObj->add('another-number', 1.667);
$jsonxObj->add('boolean', true);
$jsonxObj->add('array', ['hello',77,88]);
$jsonxObj->add('another-array', ['Bad',null, false]);   
```

``` json 
{
    "first-name":"Ibrahim", 
    "number":45, 
    "another-number":1.667, 
    "boolean":true, 
    "array":[
        "hello", 
        77, 
        88
    ], 
    "another-array":[
        "Bad", 
        null, 
        false
    ]
}
```

In addition to the method [`JsonX::add()`](https://webfiori.com/docs/jsonx/JsonX#add), there are other methods which are specific for adding specific types:

* [`JsonX::addArray()`](https://webfiori.com/docs/jsonx/JsonX#addArray). Used to add arrays.
* [`JsonX::addBoolean()`](https://webfiori.com/docs/jsonx/JsonX#addBoolean). Used to add boolean value (`true` or `false`).
* [`JsonX::addNumber()`](https://webfiori.com/docs/jsonx/JsonX#addNumber). Used to add numbers (integers or floats).
* [`JsonX::addObject()`](https://webfiori.com/docs/jsonx/JsonX#addObject). Used to add PHP objects.

## Working With Arrays

Arrays in PHP language can be associative, indexed or a mix of the two. When adding arrays to an instance of `JsonX`, the type of the array must be put into consideration. When adding the array using the method [`JsonX::add()`](https://webfiori.com/docs/jsonx/JsonX#add), It will be added as array. But there is one thing that must be noted. If the array is a mix between indexed and associative, the indices which are associative will be converted to objects.

``` php
$jsonxObj = new JsonX();
$arr = [
    "one", 
    "two", 
    "assoc" => "ok"
]
$jsonxObj->add("array", $arr);
```

The JSON that will be generated by the given code will be similar to the following:


``` json 
{
    "array":[
        "one", 
        "two", 
        {
            "assoc":"ok"
        }
    ]
}
```

## Working With Objects
## Converting JSON String to JsonX


